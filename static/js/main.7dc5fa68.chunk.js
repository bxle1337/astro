(this.webpackJsonphoroscope=this.webpackJsonphoroscope||[]).push([[0],{134:function(e,t,n){"use strict";n.r(t);var i=n(0),s=n.n(i),c=n(21),a=n.n(c),r=n(14),o=n.n(r),l=n(12),u=n(17),d=n(16),j=n(13),p=n.n(j),h=n(4),b=(n(132),n(28),n(35)),m=n.n(b),g=n(138),O=n(139),f=n(140),v=n(141),x=n(2),y=function(e){var t=e.id,n=(e.go,e.Settings),c=e.setSettings,a=e.fetchedUser,r=e.signes,j=e.setsignes,b=e.setPopout,y=Object(i.useState)(0),k=Object(d.a)(y,2),w=k[0],_=k[1],S=Object(i.useState)("now"),C=Object(d.a)(S,2),P=C[0],N=C[1],A=Object(i.useState)(null),B=Object(d.a)(A,2),V=(B[0],B[1],[{date:"\u043e\u0431\u0449\u0438\u0439 \u0433\u043e\u0440\u043e\u0441\u043a\u043e\u043f",name:"\u041e\u0431\u0449\u0438\u0439",en_name:"all",img:"https://i.imgur.com/C4y4lT8.png",id:0,love:58,lucky:78,family:36},{date:"21 \u043c\u0430\u0440\u0442\u0430 \u2013 20 \u0430\u043f\u0440\u0435\u043b\u044f",name:"\u041e\u0432\u0435\u043d",en_name:"aries",img:"https://i.imgur.com/EBbvwVl.png",id:1,love:88,lucky:38,family:89},{date:"21 \u0430\u043f\u0440\u0435\u043b\u044f \u2013 20 \u043c\u0430\u044f",name:"\u0422\u0435\u043b\u0435\u0446",en_name:"taurus",img:"https://i.imgur.com/vgwtTRj.png",id:2,love:99,lucky:62,family:31},{date:"21 \u043c\u0430\u044f \u2013 21 \u0438\u044e\u043d\u044f",name:"\u0411\u043b\u0438\u0437\u043d\u0435\u0446\u044b",en_name:"gemini",img:"https://i.imgur.com/vIitufq.png",id:3,love:49,lucky:12,family:39},{date:"22 \u0438\u044e\u043d\u044f - 23 \u0438\u044e\u043b\u044f",name:"\u0420\u0430\u043a",en_name:"cancer",img:"https://i.imgur.com/9R5DAxf.png",id:4,love:13,lucky:64,family:58},{date:"24 \u0438\u044e\u043b\u044f - 23 \u0430\u0432\u0433\u0443\u0441\u0442\u0430",name:"\u041b\u0435\u0432",en_name:"leo",img:"https://i.imgur.com/saOAuga.png",id:5,love:69,lucky:90,family:75},{date:"24 \u0430\u0432\u0433\u0443\u0441\u0442\u0430 - 23 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f",name:"\u0414\u0435\u0432\u0430",en_name:"virgo",img:"https://i.imgur.com/YUZhyob.png",id:6,love:28,lucky:18,family:90},{date:"24 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f - 23 \u043e\u043a\u0442\u044f\u0431\u0440\u044f",name:"\u0412\u0435\u0441\u044b",en_name:"libra",img:"https://i.imgur.com/3KMfryW.png",id:7,love:96,lucky:14,family:58},{date:"24 \u043e\u043a\u0442\u044f\u0431\u0440\u044f - 22 \u043d\u043e\u044f\u0431\u0440\u044f",name:"\u0421\u043a\u043e\u0440\u043f\u0438\u043e\u043d",en_name:"scorpio",img:"https://i.imgur.com/VBIBSX8.png",id:8,love:79,lucky:12,family:57},{date:"23 \u043d\u043e\u044f\u0431\u0440\u044f - 21 \u0434\u0435\u043a\u0430\u0431\u0440\u044f",name:"\u0421\u0442\u0440\u0435\u043b\u0435\u0446",en_name:"sagittarius",img:"https://i.imgur.com/PbZLU1m.png",id:9,love:53,lucky:59,family:70},{date:"22 \u0434\u0435\u043a\u0430\u0431\u0440\u044f - 20 \u044f\u043d\u0432\u0430\u0440\u044f",name:"\u041a\u043e\u0437\u0435\u0440\u043e\u0433",en_name:"capricorn",img:"https://i.imgur.com/vIitufq.png",id:10,love:50,lucky:29,family:86},{date:"21 \u044f\u043d\u0432\u0430\u0440\u044f - 19 \u0444\u0435\u0432\u0440\u0430\u043b\u044f",name:"\u0412\u043e\u0434\u043e\u043b\u0435\u0439",en_name:"aquarius",img:"https://i.imgur.com/53qLabe.png",id:11,love:13,lucky:84,family:58},{date:"20 \u0444\u0435\u0432\u0440\u0430\u043b\u044f - 20 \u043c\u0430\u0440\u0442\u0430",name:"\u0420\u044b\u0431\u044b",en_name:"pisces",img:"https://i.imgur.com/hGnVBB8.png",id:12,love:78,lucky:45,family:76}]);function T(){return(T=Object(u.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(Object(x.jsx)(h.p,{})),e.prev=1,e.next=4,o.a.send("VKWebAppShowOrderBox",{type:"item",item:"love"});case 4:e.sent.success&&I()?(b(null),a.love_pay=!0):b(null),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),b(null);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function U(){b(Object(x.jsx)(h.a,{onClose:function(){return b(null)},children:Object(x.jsx)(h.k,{style:{width:"100%"},header:"\u041b\u044e\u0431\u043e\u0432\u043d\u044b\u0439 \u0433\u043e\u0440\u043e\u0441\u043a\u043e\u043f",subheader:"\u041f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0438 \u043b\u044e\u0431\u043e\u0432\u043d\u044b\u0439 \u0433\u043e\u0440\u043e\u0441\u043a\u043e\u043f \u0438 \u0441\u043c\u043e\u0442\u0440\u0438 \u0435\u0433\u043e \u0432 \u043b\u044e\u0431\u043e\u0435 \u0432\u0440\u0435\u043c\u044f!",actions:Object(x.jsxs)(s.a.Fragment,{children:[Object(x.jsx)(h.d,{onClick:function(){return function(){return T.apply(this,arguments)}()},children:"\u041a\u0443\u043f\u0438\u0442\u044c"}),Object(x.jsx)(h.d,{onClick:function(){return b(null)},mode:"secondary",children:"\u041d\u0435\u0442, \u0441\u043f\u0430\u0441\u0438\u0431\u043e"})]}),icon:Object(x.jsx)("img",{src:"https://i.imgur.com/NLdCupp.png",style:{width:72,height:72,marginRight:8}})})}))}function W(){return(W=Object(u.a)(p.a.mark((function e(){var t,n,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=btoa(window.location.search),e.next=3,fetch("https://h154851.srv11.test-hf.su/horoscope/api.php?type=weekly&key="+t);case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,j(Object(l.a)(Object(l.a)({},r),{},{weekly:i.weekly}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return K.apply(this,arguments)}function K(){return(K=Object(u.a)(p.a.mark((function e(){var t,n,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=btoa(window.location.search),e.next=3,fetch("https://h154851.srv11.test-hf.su/horoscope/api.php?type=love&key="+t);case 3:return n=e.sent,e.next=6,n.json();case 6:if(!(i=e.sent).error){e.next=12;break}j(Object(l.a)(Object(l.a)({},r),{},{love:i.love})),setTimeout((function(){return I()}),1e3),e.next=14;break;case 12:return j(Object(l.a)(Object(l.a)({},r),{},{love:i.love})),e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(u.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.a.send("VKWebAppShowStoryBox",{background_type:"image",url:"https://h154851.srv11.test-hf.su/horoscope/share.php?sign="+w,locked:!0,attachment:{text:"view",type:"url",url:"https://vk.com/app8061753"}});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(x.jsxs)(h.l,{id:t,className:"MainPanel",children:[Object(x.jsx)(m.a,{className:"particles",params:{particles:{number:{value:50,density:{enable:!0,value_area:2500}},line_linked:{enable:!0,opacity:.05},move:{direction:"right",speed:.2},size:{value:2},opacity:{anim:{enable:!0,speed:1,opacity_min:.05}}}}}),Object(x.jsxs)(h.g,{children:[Object(x.jsxs)("center",{children:[Object(x.jsx)(h.w,{level:"2",weight:"heavy",children:V[w].name}),Object(x.jsx)(h.q,{weight:"regular",style:{color:"#C996CC",marginBottom:32},children:V[w].date})]}),Object(x.jsx)(h.x,{text:"\u0422\u044b \u043c\u043e\u0436\u0435\u0448\u044c \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u0437\u043d\u0430\u043a \u0437\u043e\u0434\u0438\u0430\u043a\u0430 \u0442\u0443\u0442",alignX:"center",isShown:1===n.guide_step,onClose:function(){return c(Object(l.a)(Object(l.a)({},n),{},{guide_step:2}))},children:Object(x.jsx)("div",{children:Object(x.jsx)(h.j,{showArrows:!0,getScrollToLeft:function(e){return e-120},getScrollToRight:function(e){return e+120},children:Object(x.jsx)("div",{style:{display:"flex"},children:V.map((function(e){return Object(x.jsx)(h.i,{hidden:"now"!=P&&0==e.id,style:{marginLeft:0==w&&0==e.id?8:0},className:w==e.id?"selected_sign":"",header:e.name,onClick:function(){_(e.id)},children:Object(x.jsx)("img",{size:56,src:e.img,style:{width:56,height:56}})},e.id)}))})})})})]}),!r&&Object(x.jsx)(h.m,{}),r&&Object(x.jsxs)(h.g,{children:[Object(x.jsx)(h.x,{text:"\u0422\u0443\u0442 \u043c\u043e\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0433\u043e\u0440\u043e\u0441\u043a\u043e\u043f \u043d\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f \u0438\u043b\u0438 \u043d\u0435\u0434\u0435\u043b\u044e",alignX:"right",isShown:2===n.guide_step,onClose:function(){return c(Object(l.a)(Object(l.a)({},n),{},{guide_step:3}))},children:Object(x.jsx)("div",{children:Object(x.jsxs)(h.t,{children:[Object(x.jsx)(h.u,{onClick:function(){return N("now")},selected:"now"===P,children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"}),Object(x.jsx)(h.u,{onClick:function(){0==w&&_(1),null!==r&&void 0!==r&&r.love||!a.love_pay||I(),1==n.bage_love&&c(Object(l.a)(Object(l.a)({},n),{},{bage_love:!1})),N("love")},selected:"love"===P,children:"\u041b\u044e\u0431\u043e\u0432\u043d\u044b\u0439"}),Object(x.jsx)(h.u,{onClick:function(){0==w&&_(1),N("week"),r.weekly||function(){W.apply(this,arguments)}()},selected:"week"===P,children:"\u041d\u0435\u0434\u0435\u043b\u044c\u043d\u044b\u0439"})]})})}),"love"!=P&&Object(x.jsx)(h.e,{children:Object(x.jsxs)(h.v,{weight:"semibold",style:{color:"white"},className:"font",children:["now"==P&&r[w].description,"week"==P&&(null===r||void 0===r?void 0:r.weekly)&&(null===r||void 0===r?void 0:r.weekly[w-1].description),"week"==P&&!(null!==r&&void 0!==r&&r.weekly)&&Object(x.jsx)(h.m,{})]})}),"love"==P&&!(null!==r&&void 0!==r&&r.love)&&1==a.love_pay&&Object(x.jsx)(h.m,{}),"love"==P&&(null===r||void 0===r?void 0:r.love)&&1==a.love_pay&&Object(x.jsx)(h.e,{children:Object(x.jsx)(h.v,{weight:"semibold",style:{color:"white"},className:"font",children:null===r||void 0===r?void 0:r.love[w-1].description})}),"love"==P&&0==a.love_pay&&Object(x.jsx)(h.e,{children:Object(x.jsxs)(h.n,{icon:Object(x.jsx)(g.a,{}),header:"\u041b\u044e\u0431\u043e\u0432\u043d\u044b\u0439 \u0433\u043e\u0440\u043e\u0441\u043a\u043e\u043f",action:Object(x.jsx)(h.d,{before:Object(x.jsx)(O.a,{}),size:"m",onClick:function(){return U()},children:"\u0414\u0430, \u0445\u043e\u0447\u0443!"}),children:["\u0425\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043b\u044e\u0431\u043e\u0432\u043d\u044b\u0439 \u0433\u043e\u0440\u043e\u0441\u043a\u043e\u043f?",Object(x.jsx)("br",{})]})}),"now"==P&&Object(x.jsxs)(h.r,{children:[Object(x.jsx)(h.s,{id:"like_button",selected:!0,before:Object(x.jsx)(f.a,{id:"like_ico",fill:1==r[w].me_like?"red":"black"}),onClick:Object(u.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(Object(x.jsx)(h.p,{})),t=btoa(window.location.search),e.next=4,fetch("https://h154851.srv11.test-hf.su/horoscope/like.php?sign="+w+"&key="+t);case 4:return n=e.sent,e.next=7,n.json();case 7:1==e.sent.response?(r[w].likes?r[w].likes+=1:r[w].likes=1,r[w].me_like,r[w].me_like=1):(r[w].likes?r[w].likes-=1:r[w].likes=0,r[w].me_like,r[w].me_like=0),b(null);case 10:case"end":return e.stop()}}),e)}))),children:r[w].likes?r[w].likes:0}),Object(x.jsx)(h.x,{text:"\u041d\u0435 \u0437\u0430\u0431\u0443\u0434\u044c \u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0441\u0435\u0433\u043e\u0434\u043d\u044f\u0448\u043d\u0438\u043c \u0433\u043e\u0440\u043e\u0441\u043a\u043e\u043f\u043e\u043c \u270c\ufe0f",alignX:"left",isShown:3===n.guide_step,onClose:function(){return c(Object(l.a)(Object(l.a)({},n),{},{guide_step:4}))},children:Object(x.jsx)(h.s,{selected:!0,before:Object(x.jsx)(v.a,{}),onClick:function(){return function(){return L.apply(this,arguments)}()},children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"})})]})]}),r&&0!=V[w].id&&"love"!=P&&Object(x.jsxs)(h.g,{header:Object(x.jsxs)(h.h,{style:{color:"#916BBF"},children:['\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0430 \u0437\u043d\u0430\u043a\u0430 "',V[w].name,'"']}),style:{marginTop:0},children:[Object(x.jsxs)(h.e,{style:{display:"flex"},children:[Object(x.jsx)(h.v,{weight:"regular",children:"\u041b\u044e\u0431\u043e\u0432\u044c"}),Object(x.jsx)(h.o,{value:V[w].love,className:"progress"})]}),Object(x.jsxs)(h.e,{style:{display:"flex"},children:[Object(x.jsx)(h.v,{weight:"regular",children:"\u0423\u0434\u0430\u0447\u0430"}),Object(x.jsx)(h.o,{value:V[w].lucky,className:"progress"})]}),Object(x.jsxs)(h.e,{style:{display:"flex"},children:[Object(x.jsx)(h.v,{weight:"regular",children:"\u0421\u0435\u043c\u044c\u044f"}),Object(x.jsx)(h.o,{value:V[w].family,className:"progress"})]})]})]})},k=n.p+"static/media/logo.d0c1cb4b.png",w=(n(29),function(e){return Object(x.jsx)(h.l,{id:e.id,className:"MainPanel",children:Object(x.jsx)("img",{className:"Persik",src:k,style:{width:"350%",height:"350%"}})})}),_=n(142),S=function(e){return Object(x.jsx)(h.l,{id:e.id,className:"MainPanel",children:Object(x.jsx)(h.n,{icon:Object(x.jsx)(_.a,{fill:"white"}),stretched:!0,children:"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u043e \u043d\u0430 \u0432\u0430\u0448\u0435\u043c \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0435."})})},C=n(143),P=function(e){return Object(x.jsxs)(h.l,{id:e.id,className:"MainPanel",children:[Object(x.jsxs)(h.n,{icon:Object(x.jsx)("img",{src:"https://i.imgur.com/l95P9rm.png",style:{width:"50%",height:"50%"}}),stretched:!0,className:"font",children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",e.fetchedUser.first_name,"!",Object(x.jsx)("br",{}),"\u041c\u044b \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b\u0438 \u0434\u043b\u044f \u0442\u0435\u0431\u044f \u0433\u043e\u0440\u043e\u0441\u043a\u043e\u043f.",Object(x.jsx)("br",{}),"\u0414\u0430\u0432\u0430\u0439 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c?"]}),Object(x.jsx)(h.f,{vertical:"bottom",children:Object(x.jsx)(h.d,{before:Object(x.jsx)(C.a,{}),onClick:function(){e.setActivePanel("home"),e.GetSignes(),e.setSettings(Object(l.a)(Object(l.a)({},e.Settings),{},{guide_step:1}))},size:"l",stretched:!0,style:{margin:8,width:"95%"},children:"\u0412\u043f\u0435\u0440\u0435\u0434!"})})]})},N=function(){var e=Object(i.useState)("persik"),t=Object(d.a)(e,2),n=t[0],s=t[1],c=Object(i.useState)(null),a=Object(d.a)(c,2),r=a[0],j=a[1],b=Object(i.useState)(null),m=Object(d.a)(b,2),g=m[0],O=m[1],f=Object(i.useState)(null),v=Object(d.a)(f,2),k=v[0],_=v[1],C=Object(i.useState)(null),N=Object(d.a)(C,2),A=(N[0],N[1],Object(i.useState)({bage_love:!0,guide_step:0})),B=Object(d.a)(A,2),V=B[0],T=B[1];Object(i.useEffect)((function(){var e=document.createAttribute("scheme");e.value="space_gray",document.body.attributes.setNamedItem(e);var t=new URLSearchParams(window.location.search).get("vk_platform");function n(){return(n=Object(u.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.send("VKWebAppGetUserInfo");case 2:return t=e.sent,e.next=5,o.a.send("VKWebAppStorageGet",{keys:["guide"]});case 5:n=e.sent,j(t),O(null),n&&"guide"==n.keys[0].key?i():(o.a.send("VKWebAppStorageSet",{key:"guide",value:"true"}),s("guide"));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return c.apply(this,arguments)}function c(){return(c=Object(u.a)(p.a.mark((function e(){var t,n,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=btoa(window.location.search),e.next=3,fetch("https://h154851.srv11.test-hf.su/horoscope/api.php?type=dayly&key="+t);case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,_(i.dayly),j(Object(l.a)(Object(l.a)({},r),{},{love_pay:i.love_pay})),setTimeout((function(){return s("home")}),1e3);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}"iOS"==function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(e)?"Windows Phone":/android/i.test(e)?"Android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"iOS":"unknown"}()&&"mobile_web"!=t?s("ios"):function(){n.apply(this,arguments)}()}),[]);var U=function(){var e=Object(u.a)(p.a.mark((function e(){var t,n,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=btoa(window.location.search),e.next=3,fetch("https://h154851.srv11.test-hf.su/horoscope/api.php?type=dayly&key="+t);case 3:return n=e.sent,e.next=6,n.json();case 6:i=e.sent,_(i.dayly),j(Object(l.a)(Object(l.a)({},r),{},{love_pay:i.love_pay}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(e){s(e.currentTarget.dataset.to)};return Object(x.jsx)(h.b,{children:Object(x.jsx)(h.c,{children:Object(x.jsxs)(h.y,{activePanel:n,popout:g,children:[Object(x.jsx)(y,{id:"home",Settings:V,setSettings:T,fetchedUser:r,go:W,signes:k,setsignes:_,setPopout:O}),Object(x.jsx)(w,{id:"persik",go:W}),Object(x.jsx)(P,{id:"guide",go:W,setActivePanel:s,fetchedUser:r,GetSignes:U,setSettings:T,Settings:V}),Object(x.jsx)(S,{id:"ios",go:W})]})})})};o.a.send("VKWebAppInit"),a.a.render(Object(x.jsx)(N,{}),document.getElementById("root"))},28:function(e,t,n){},29:function(e,t,n){}},[[134,1,2]]]);